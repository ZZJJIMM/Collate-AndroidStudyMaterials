# 面试题

## ANR问题的四种场景

- Service Timeout ANR：前台服务20s，后台服务200s；
- Broadcast Timeout ANR ：前台Broad10s，后台broad60s
- ContentProvider Timeout ANR ：publish未在10s内完成
- Input dispatching Timeout ANR ：5s内未响应键盘输入

## View事件分发机制

Activity -> window(PhoneWIndow) -> decorView ->ViewGroup ->View
1.其中主要涉及了以下方法：

- dispatchTouchEvent()：点击事件是否消费
- onInterceptTouchEvent()：是否拦截事件
- onTouchEvent()：事件被消耗
ps：优先级由大到小：onTouchListener》onTouchEvent -》onClickListener

2.其中：
Activity包含：dispatchTouchEvent、onTouchEvent
ViewGroup：dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent
View ：dispatchTouchEvent、onTouchEvent

## View绘制流程

在ViewRootImpl中调用

- requestMesure：测量布局
- requestLayout：
- requestDraw：绘制布局

## Handle消息机制

## Kotlin基本方法介绍

- let、also、with、run、apply
- let:定义一个变量在一个特定的作用域范围内，另一个作用是对变量进行判空处理
- also：also和let功能基本一致，两者的区别是，let返回作用域的最后一行，also返回传入的变量
  - 如下：

  ```Kotlin
  val let_x = XX?.let{
   printyln("let")
   999
  }

  val also_x = XX?.also{
   printyln("also")
   999
  }

  pringtln(let_x)
  pringtln(also_x)

ps：let_x = 999
also_x = XX
  ```

- with:传入一个对象，在作用域中调用传入对象的属性/参数时可省略传入对象的书写
  - 如下：
with（User）{
	  name
	  sex
	  age
  }

- run： = let+with，返回的是最后一行
- apply： =also + with ，返回的传入的对象